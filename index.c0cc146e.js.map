{"mappings":"sEACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAUC,GAC/B,KAAMD,aAAoBC,GACtB,MAAM,IAAIC,UAAU,oC,WCG5B,SAASC,EAAkBC,EAAQC,GAC/B,IAAI,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAI,CACjC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDhB,OAAOC,eAAeQ,EAAQI,EAAWI,IAAKJ,E,EAftDb,OAAOC,eAAeiB,EAAS,aAAc,CACzCf,OAAO,IAEXe,EAAQd,QACR,SAAsBE,EAAaa,EAAYC,GACvCD,GAAYX,EAAkBF,EAAYe,UAAWF,GACrDC,GAAaZ,EAAkBF,EAAac,GAChD,OAAOd,C,ECRX,ICCIgB,EAAQ,SAAAC,G,OAAYC,SAASC,cAAcF,E,EAEzCG,EAAiB,ICHpB,W,sBFGkBC,I,aAEjBC,KAAKC,YAAc,GACnBD,KAAKE,KAAO,EACZF,KAAKG,KAAOH,KAAKI,S,iBAGnBf,IAAA,gB,MAAA,W,WACQgB,EAAe,IAAIC,gBAAgB,CACvCC,EAAGP,KAAKC,YACRO,SAAU,gBACVC,SAAU,GACVP,KAAMF,KAAKE,KACXQ,OAAQ,gBAcVC,QAAQC,IAAIZ,KAAKG,MACjB,IAAMU,EAAU,CACdC,QAAS,CACPC,cAhCQ,oCAkCVC,OAAQ,MAEJC,EAAM,GAAqBC,OArCzB,yBAqCW,gBAA2BA,OAAbb,GAIjC,OAAOc,MAAMF,EAAKJ,GACfO,MAAK,SAAAC,GACJ,IAAKA,EAAEC,GACL,MAAM,IAAIC,MAAM,iBAElB,OAAOF,EAAEG,M,IAEVJ,MAAK,SAAAK,G,IAAGC,EAAQD,EAARC,SAGP,OAFAC,EAAKC,gBAEEF,C,IAERG,OAAM,SAAAC,G,OAAKnB,QAAQC,IAAIkB,E,OAG5BzC,IAAA,U,MAAA,WACE,IAAMc,EAAO,IAAI4B,KAEjB,OADApB,QAAQC,IAAIT,EAAK6B,gBACV7B,C,IAGTd,IAAA,gB,MAAA,WACEW,KAAKE,MAAQ,C,IAEfb,IAAA,Y,MAAA,WACEW,KAAKE,KAAO,C,IAGVb,IAAA,Q,IAAJ,WACE,OAAOW,KAAKC,W,MAGd,SAAUgC,GACRjC,KAAKC,YAAcgC,C,OE1EpB,IDmBH,SAASC,IACPpC,EAAeqC,gBAAgBf,MAAK,SAAAM,IAKtC,SAA8BA,GAC5Bf,QAAQyB,IAAIV,GACZ,IAAMW,EAASX,EACZY,KACC,SAAAC,G,MAAM,0BAGerB,OAFRqB,EAAGtB,IAAI,iGAGAC,OADCqB,EAAGC,WAAW,oDAELtB,OADVqB,EAAGE,MAAM,6CAEVvB,OADWqB,EAAGG,OAAO,iCACNxB,OAAfqB,EAAGI,YAAY,wD,IAKnCC,KAAK,IACRlD,EAAM,aAAamD,mBAAmB,YAAaR,E,CApBjDS,CAAqBpB,E,IAjBzBhC,EAAM,mBAAmBqD,iBAAiB,UAG1C,SAAkBjB,GAChBA,EAAEkB,iBACFlD,EAAemD,MAAQnB,EAAEoB,cAAcC,SAASF,MAAM1E,MACtDuB,EAAesD,YAmCf1D,EAAM,aAAa2D,UAAY,GAjC/BnB,G,IAPFxC,EAAM,SAASqD,iBAAiB,QAASb,E","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/news-service.js","src/js/news.js","<<jsx-config-pragma.js>>"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","const URL = 'https://newsapi.org/v2';\nconst API_KEY = '68f7fb59d89447ca8b8d9788122c4468';\n\nexport default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n    this.date = this.getDate();\n  }\n\n  fetchArticles() {\n    const searchParams = new URLSearchParams({\n      q: this.searchQuery,\n      searchIn: 'title,content',\n      pageSize: 15,\n      page: this.page,\n      sortBy: 'relevancy  ',\n      // from: this.date,\n    });\n    /*\nconst searchParams = new URLSearchParams({\n  _limit: 5,\n  _sort: \"name\",\n});\n\nconsole.log(searchParams.toString()); // \"_limit=5&_sort=name\"\n\nconst url = `https://jsonplaceholder.typicode.com/users?${searchParams}`;\nconsole.log(url); // \"https://jsonplaceholder.typicode.com/users?_limit=5&_sort=name\"\n*/\n    console.log(this.date);\n    const options = {\n      headers: {\n        Authorization: API_KEY,\n      },\n      status: 'ok',\n    };\n    const url = `${URL}/everything?${searchParams}`;\n    // const url = `${URL}/everything?q=${this.searchQuery}&searchIn=title,content&pageSize=5&page=${this.page}`;\n    // const url = `${URL}/top-headlines?country=ua&${this.searchQuery}&pageSize=5&page=${this.page}`;\n\n    return fetch(url, options)\n      .then(r => {\n        if (!r.ok) {\n          throw new Error('status not ok');\n        }\n        return r.json();\n      })\n      .then(({ articles }) => {\n        this.incrementPage();\n\n        return articles;\n      })\n      .catch(e => console.log(e));\n  }\n\n  getDate() {\n    const date = new Date();\n    console.log(date.toDateString());\n    return date;\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n","import NewsApiService from './news-service';\nlet getEl = selector => document.querySelector(selector);\n\nconst newsApiService = new NewsApiService();\ngetEl('.js-form-search').addEventListener('submit', onSearch);\ngetEl('.more').addEventListener('click', fetchArticles);\n\nfunction onSearch(e) {\n  e.preventDefault();\n  newsApiService.query = e.currentTarget.elements.query.value;\n  newsApiService.resetPage();\n  clearArticlesContainer();\n  fetchArticles();\n}\n\n// function onLoadMore() {\n//   newsApiService.fetchArticles().then(appendArticlesMarkup);\n// }\n\nfunction fetchArticles() {\n  newsApiService.fetchArticles().then(articles => {\n    appendArticlesMarkup(articles);\n  });\n}\n\nfunction appendArticlesMarkup(articles) {\n  console.dir(articles);\n  const markup = articles\n    .map(\n      el => `<li>\n        <a href=\"${el.url}\" target=\"_blank\" rel=\"nopener noreferrer\">\n            <article>\n                <img src=${el.urlToImage} alt='' width=\"480\">\n                    <h2>${el.title}</h2>\n                    <p>Posted by: ${el.author}</p>\n                    <p>${el.description}</p>\n            </article>\n        </a>\n    </li>`,\n    )\n    .join('');\n  getEl('.articles').insertAdjacentHTML('beforeEnd', markup);\n}\n\nfunction clearArticlesContainer() {\n  getEl('.articles').innerHTML = '';\n}\n",null],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$963508ebb68a0a78$var$getEl","selector","document","querySelector","$963508ebb68a0a78$var$newsApiService","NewsApiService","this","searchQuery","page","date","getDate","searchParams","URLSearchParams","q","searchIn","pageSize","sortBy","console","log","options","headers","Authorization","status","url","concat","fetch","then","r","ok","Error","json","param","articles","_this","incrementPage","catch","e","Date","toDateString","newQuery","$963508ebb68a0a78$var$fetchArticles","fetchArticles","dir","markup","map","el","urlToImage","title","author","description","join","insertAdjacentHTML","$963508ebb68a0a78$var$appendArticlesMarkup","addEventListener","preventDefault","query","currentTarget","elements","resetPage","innerHTML"],"version":3,"file":"index.c0cc146e.js.map"}