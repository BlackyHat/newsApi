{"mappings":"sEACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAUC,GAC/B,KAAMD,aAAoBC,GACtB,MAAM,IAAIC,UAAU,oC,WCG5B,SAASC,EAAkBC,EAAQC,GAC/B,IAAI,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAI,CACjC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDhB,OAAOC,eAAeQ,EAAQI,EAAWI,IAAKJ,E,EAftDb,OAAOC,eAAeiB,EAAS,aAAc,CACzCf,OAAO,IAEXe,EAAQd,QACR,SAAsBE,EAAaa,EAAYC,GACvCD,GAAYX,EAAkBF,EAAYe,UAAWF,GACrDC,GAAaZ,EAAkBF,EAAac,GAChD,OAAOd,C,ECRX,ICCIgB,EAAQ,SAAAC,G,OAAYC,SAASC,cAAcF,E,EAEzCG,EAAiB,ICHpB,W,sBFGkBC,I,aAEjBC,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,iBAGdb,IAAA,gB,MAAA,W,WACQc,EAAU,CACdC,QAAS,CACPC,cAXQ,qCAcNC,EAAM,GAAuBC,OAf3B,yBAeW,kBAA2EA,OAA3DP,KAAKC,YAAY,4CAAoDM,OAAVP,KAAKE,MAGnG,OAAOM,MAAMF,EAAKH,GACfM,MAAK,SAAAC,G,OAAKA,EAAEC,M,IACZF,MAAK,SAAAG,G,IAAGC,EAAQD,EAARC,SAGP,OAFAC,EAAKC,gBAEEF,C,OAIbxB,IAAA,gB,MAAA,WACEW,KAAKE,MAAQ,C,IAEfb,IAAA,Y,MAAA,WACEW,KAAKE,KAAO,C,IAGVb,IAAA,Q,IAAJ,WACE,OAAOW,KAAKC,W,MAGd,SAAUe,GACRhB,KAAKC,YAAce,C,OEvCpB,IDmBH,SAASC,IACPnB,EAAeoB,gBAAgBT,MAAK,SAAAI,IAKtC,SAA8BA,GAC5BM,QAAQC,IAAIP,GACZ,IAAMQ,EAASR,EACZS,KACC,SAAAC,G,MAAM,0BAGehB,OAFRgB,EAAGjB,IAAI,iGAGAC,OADCgB,EAAGC,WAAW,oDAELjB,OADVgB,EAAGE,MAAM,6CAEVlB,OADWgB,EAAGG,OAAO,iCACNnB,OAAfgB,EAAGI,YAAY,wD,IAKnCC,KAAK,IACRlC,EAAM,aAAamC,mBAAmB,YAAaR,E,CApBjDS,CAAqBjB,E,IAjBzBnB,EAAM,mBAAmBqC,iBAAiB,UAG1C,SAAkBC,GAChBA,EAAEC,iBACFnC,EAAeoC,MAAQF,EAAEG,cAAcC,SAASF,MAAM3D,MACtDuB,EAAeuC,YAmCf3C,EAAM,aAAa4C,UAAY,GAjC/BrB,G,IAPFvB,EAAM,SAASqC,iBAAiB,QAASd,E","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/news-service.js","src/js/news.js","<<jsx-config-pragma.js>>"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","const URL = 'https://newsapi.org/v2';\nconst API_KEY = '68f7fb59d89447ca8b8d9788122c4468';\n\nexport default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    const options = {\n      headers: {\n        Authorization: API_KEY,\n      },\n    };\n    const url = `${URL}/everything?q=${this.searchQuery}&searchIn=title,content&pageSize=5&page=${this.page}`;\n    // const url = `${URL}/top-headlines?country=ua&${this.searchQuery}&pageSize=5&page=${this.page}`;\n\n    return fetch(url, options)\n      .then(r => r.json())\n      .then(({ articles }) => {\n        this.incrementPage();\n\n        return articles;\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n","import NewsApiService from './news-service';\nlet getEl = selector => document.querySelector(selector);\n\nconst newsApiService = new NewsApiService();\ngetEl('.js-form-search').addEventListener('submit', onSearch);\ngetEl('.more').addEventListener('click', fetchArticles);\n\nfunction onSearch(e) {\n  e.preventDefault();\n  newsApiService.query = e.currentTarget.elements.query.value;\n  newsApiService.resetPage();\n  clearArticlesContainer();\n  fetchArticles();\n}\n\n// function onLoadMore() {\n//   newsApiService.fetchArticles().then(appendArticlesMarkup);\n// }\n\nfunction fetchArticles() {\n  newsApiService.fetchArticles().then(articles => {\n    appendArticlesMarkup(articles);\n  });\n}\n\nfunction appendArticlesMarkup(articles) {\n  console.dir(articles);\n  const markup = articles\n    .map(\n      el => `<li>\n        <a href=\"${el.url}\" target=\"_blank\" rel=\"nopener noreferrer\">\n            <article>\n                <img src=${el.urlToImage} alt='' width=\"480\">\n                    <h2>${el.title}</h2>\n                    <p>Posted by: ${el.author}</p>\n                    <p>${el.description}</p>\n            </article>\n        </a>\n    </li>`,\n    )\n    .join('');\n  getEl('.articles').insertAdjacentHTML('beforeEnd', markup);\n}\n\nfunction clearArticlesContainer() {\n  getEl('.articles').innerHTML = '';\n}\n",null],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$963508ebb68a0a78$var$getEl","selector","document","querySelector","$963508ebb68a0a78$var$newsApiService","NewsApiService","this","searchQuery","page","options","headers","Authorization","url","concat","fetch","then","r","json","param","articles","_this","incrementPage","newQuery","$963508ebb68a0a78$var$fetchArticles","fetchArticles","console","dir","markup","map","el","urlToImage","title","author","description","join","insertAdjacentHTML","$963508ebb68a0a78$var$appendArticlesMarkup","addEventListener","e","preventDefault","query","currentTarget","elements","resetPage","innerHTML"],"version":3,"file":"index.ba043ddc.js.map"}