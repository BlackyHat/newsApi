{"mappings":"AACA,IAAIA,EAAQC,GAAYC,SAASC,cAAcF,GAE/C,MAAMG,EAAiB,ICAR,MAMbC,gBAEE,MAAMC,EAAU,CACdC,QAAS,CACPC,cAZQ,qCAeNC,EAAM,uCAAuBC,KAAKC,+BAA+BD,KAAKE,OAE5E,OAAOC,MAAMJ,EAAKH,GACfQ,MAAKC,GAAKA,EAAEC,SACZF,MAAK,EAACG,SAAEA,MACPP,KAAKQ,gBAEED,I,CAIbC,gBACER,KAAKE,MAAQ,C,CAEfO,YACET,KAAKE,KAAO,C,CAGVQ,YACF,OAAOV,KAAKC,W,CAGVS,UAAMC,GACRX,KAAKC,YAAcU,C,CAnCrBC,cACEZ,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,GDahB,SAASW,IACPnB,EAAeC,gBAAgBS,MAAKG,KAKtC,SAA8BA,GAC5BO,QAAQC,IAAIR,GACZ,MAAMS,EAAST,EACZU,KACCC,GAAM,0BACOA,EAAGnB,mGAEKmB,EAAGC,2DACJD,EAAGE,iDACOF,EAAGG,sCACdH,EAAGI,qEAKvBC,KAAK,IACRjC,EAAM,aAAakC,mBAAmB,YAAaR,E,CApBjDS,CAAqBlB,EAAS,G,CAjBlCjB,EAAM,mBAAmBoC,iBAAiB,UAG1C,SAAkBC,GAChBA,EAAEC,iBACFlC,EAAegB,MAAQiB,EAAEE,cAAcC,SAASpB,MAAMqB,MACtDrC,EAAee,YAkCfnB,EAAM,aAAa0C,UAAY,GAhC/BnB,G,IAPFvB,EAAM,SAASoC,iBAAiB,QAASb","sources":["src/js/news.js","src/js/news-service.js"],"sourcesContent":["import NewsApiService from './news-service';\nlet getEl = selector => document.querySelector(selector);\n\nconst newsApiService = new NewsApiService();\ngetEl('.js-form-search').addEventListener('submit', onSearch);\ngetEl('.more').addEventListener('click', fetchArticles);\n\nfunction onSearch(e) {\n  e.preventDefault();\n  newsApiService.query = e.currentTarget.elements.query.value;\n  newsApiService.resetPage();\n  clearArticlesContainer();\n  fetchArticles();\n}\n\n// function onLoadMore() {\n//   newsApiService.fetchArticles().then(appendArticlesMarkup);\n// }\n\nfunction fetchArticles() {\n  newsApiService.fetchArticles().then(articles => {\n    appendArticlesMarkup(articles);\n  });\n}\n\nfunction appendArticlesMarkup(articles) {\n  console.dir(articles);\n  const markup = articles\n    .map(\n      el => `<li>\n        <a href=\"${el.url}\" target=\"_blank\" rel=\"nopener noreferrer\">\n            <article>\n                <img src=${el.urlToImage} alt='' width=\"480\">\n                    <h2>${el.title}</h2>\n                    <p>Posted by: ${el.author}</p>\n                    <p>${el.description}</p>\n            </article>\n        </a>\n    </li>`,\n    )\n    .join('');\n  getEl('.articles').insertAdjacentHTML('beforeEnd', markup);\n}\nfunction clearArticlesContainer() {\n  getEl('.articles').innerHTML = '';\n}\n","const URL = 'https://newsapi.org/v2';\nconst API_KEY = '68f7fb59d89447ca8b8d9788122c4468';\n\nexport default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    // console.log(this);\n    const options = {\n      headers: {\n        Authorization: API_KEY,\n      },\n    };\n    const url = `${URL}/everything?q=${this.searchQuery}&pageSize=5&page=${this.page}`;\n\n    return fetch(url, options)\n      .then(r => r.json())\n      .then(({ articles }) => {\n        this.incrementPage();\n\n        return articles;\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$4ebb81a1f389e6fd$var$getEl","selector","document","querySelector","$4ebb81a1f389e6fd$var$newsApiService","fetchArticles","options","headers","Authorization","url","this","searchQuery","page","fetch","then","r","json","articles","incrementPage","resetPage","query","newQuery","constructor","$4ebb81a1f389e6fd$var$fetchArticles","console","dir","markup","map","el","urlToImage","title","author","description","join","insertAdjacentHTML","$4ebb81a1f389e6fd$var$appendArticlesMarkup","addEventListener","e","preventDefault","currentTarget","elements","value","innerHTML"],"version":3,"file":"index.1a54bd3c.js.map"}